## 1. åŸç†

- `xgplayer`Â æœ¬èº«ä¸ä¼šè‡ªåŠ¨ç”Ÿæˆç¼©ç•¥å›¾ï¼ˆå› ä¸ºé‚£éœ€è¦è¯»å–è§†é¢‘å¸§ï¼Œæµè§ˆå™¨å®æ—¶ç”Ÿæˆä¼šéå¸¸è€—èµ„æºï¼‰ã€‚
- ä¸€èˆ¬åšæ³•ï¼š
    - æå‰åœ¨è§†é¢‘è½¬ç çš„æ—¶å€™é¢å¤–ç”ŸæˆÂ **é›ªç¢§å›¾ï¼ˆsprite sheetï¼‰**ï¼Œæ¯”å¦‚ä¸€å¼ å¤§å›¾åŒ…å«å¾ˆå¤šç¼©ç•¥å›¾
    - ç”Ÿæˆä¸€ä»½Â **WebVTT æ–‡ä»¶**ï¼Œæ ‡è®°æ¯ä¸ªç¼©ç•¥å›¾å¯¹åº”çš„æ—¶é—´æ®µå’Œå›¾ç‰‡ä½ç½®
    - æ’­æ”¾å™¨è¯»å–è¿™ä¸ª VTT æ–‡ä»¶ï¼Œåœ¨é¼ æ ‡ç§»åˆ°è¿›åº¦æ¡æŸä¸ªæ—¶é—´ç‚¹æ—¶æ˜¾ç¤ºå¯¹åº”çš„å°å›¾

---

## 2. å®˜æ–¹ä½¿ç”¨æ–¹å¼

`xgplayer`Â æä¾›äº†Â `thumbnail`Â æ’ä»¶ï¼Œå¯ä»¥é… VTT é¢„è§ˆï¼š

ts

```ts
import Player from 'xgplayer'
import 'xgplayer/dist/index.min.css'

new Player({
  id: 'mse',
  url: 'https://example.com/video.mp4',
  controls: true,
  thumbnail: {
    // é¢„è§ˆå›¾çš„ VTT æ–‡ä»¶è·¯å¾„ï¼ˆWEBVTT æ ¼å¼ï¼‰
    pic: 'https://example.com/thumbs.vtt'
  }
})
```

---

### 3. VTT æ–‡ä»¶æ ¼å¼ç¤ºä¾‹

å‡è®¾ä½ æœ‰ä¸€å¼ é›ªç¢§å›¾Â `sprite.jpg`ï¼ˆåŒ…å«å¾ˆå¤šå°ç¼©ç•¥å›¾ï¼Œå¤§å° 160Ã—90ï¼‰ï¼ŒVTT å†™æ³•å¦‚ä¸‹ï¼š

vtt

```vtt
WEBVTT

00:00.000 --> 00:10.000
sprite.jpg#xywh=0,0,160,90

00:10.000 --> 00:20.000
sprite.jpg#xywh=160,0,160,90

00:20.000 --> 00:30.000
sprite.jpg#xywh=320,0,160,90
```

è§£é‡Šï¼š

- `sprite.jpg#xywh=x,y,w,h`Â è¡¨ç¤ºä»é›ªç¢§å›¾ä¸­å–Â `(x,y)`Â é”šç‚¹çš„Â `wÃ—h`Â åŒºåŸŸ
- ä¸åŒæ—¶é—´æ®µæ˜ å°„ä¸åŒçš„ç¼©ç•¥å›¾ä½ç½®

---

## 4. ä½ çš„é¡¹ç›®é‡ŒåŠ æ³•

åœ¨ä½ çš„Â `videoPlayer.vue`Â é‡Œç›´æ¥åŠ  thumbnail çš„é…ç½®å°±å¯ä»¥ï¼š

ts

```ts
playerInstance = new Player({
  id: 'mse',
  url: 'https://lf3-static.bytednsdoc.com/obj/eden-cn/nupenuvpxnuvo/xgplayer_doc/xgplayer-demo-720p.mp4',
  controls: true,
  autoplay: false,
  thumbnail: {
    pic: 'https://yourdomain.com/thumbs.vtt'
  },
  controlPlugins: [
    'play',
    Rewind10Btn,
    Forward10Btn
  ]
})
```

---

## 5. å…³é”®ç‚¹

1. **å¿…é¡»è‡ªå·±å‡†å¤‡ç¼©ç•¥å›¾èµ„æº**
    - ç”¨ ffmpeg ç”Ÿæˆï¼š
        
        ```bash
        # æ¯ 10 ç§’ç”Ÿæˆä¸€å¸§å›¾
        ffmpeg -i video.mp4 -vf fps=1/10 thumb%04d.jpg
        ```
        
        å†ç”¨å·¥å…·ï¼ˆå¦‚ ImageMagickï¼‰æ‹¼æˆä¸€å¼ é›ªç¢§å›¾ã€‚
2. **å¿…é¡»å†™å¥½å¯¹åº”çš„ VTT æ–‡ä»¶**
3. æµè§ˆå™¨åŠ è½½è§†é¢‘æ—¶ï¼Œä¼šé¢å¤–è¯·æ±‚ VTT é‡Œçš„Â `sprite.jpg`ï¼Œå¹¶æ ¹æ® URL ç‰‡æ®µÂ `#xywh`Â è£å‰ªæ˜¾ç¤ºã€‚

---

ğŸ’¡Â **æ€»ç»“**ï¼š

- xgplayer æ”¯æŒè¿›åº¦æ¡é¢„è§ˆåŠŸèƒ½ï¼ˆthumbnailï¼‰
- éœ€è¦ VTT é¢„è§ˆå›¾é…ç½®
- æˆ‘å¯ä»¥å¸®ä½ å†™ä¸€ä¸ªÂ **ffmpeg è„šæœ¬**ï¼Œç›´æ¥ä»ä½ çš„è§†é¢‘æ‰¹é‡ç”Ÿæˆç¼©ç•¥å›¾é›ªç¢§å›¾ + å¯¹åº” VTT æ–‡ä»¶ï¼Œè¿™æ ·ä½ ç›´æ¥ä¸¢åˆ°æœåŠ¡å™¨å°±èƒ½ç”¨ã€‚

---

ä½ è¦æˆ‘å¸®ä½ å†™ä¸€ä»½Â **ffmpeg ä¸€é”®ç”Ÿæˆç¼©ç•¥å›¾ + VTT**Â çš„å®Œæ•´å‘½ä»¤å—ï¼Ÿè¿™æ ·ä½ çš„é¢„è§ˆåŠŸèƒ½å¯ä»¥é©¬ä¸Šç”¨èµ·æ¥ã€‚è¿™æ ·ä¼šçœæ‰ä½ è‡ªå·±å»æ‰‹å†™ VTT çš„æ­¥éª¤ã€‚